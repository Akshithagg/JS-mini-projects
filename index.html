<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body background="img/yes.jpg">
    <div class=" keys ">
        <div data-key="65" class="key">
        <kbd>A</kbd>
        <span class="sound">CLAP</span>
        </div>
    
        <div data-key="83" class="key">
            <kbd>S</kbd>
            <span class="sound">HITHAT</span>
        </div>

        <div data-key="68" class="key">
          <kbd>D</kbd>
           <span class="sound">KICK</span>
        </div>  

        <div data-key="70" class="key">
          <kbd>F</kbd>
           <span class="sound">OPENHAT</span>
        </div>

        <div data-key="71" class="key">
          <kbd>G</kbd>
           <span class="sound">BOOM</span>
        </div>

        <div data-key="72" class="key">
          <kbd>H</kbd>
          <span class="sound">RIDE</span>
        </div>

           <div data-key="74" class="key">
          <kbd>J</kbd>
           <span class="sound">SNARE</span>
        </div>

        <div data-key="75" class="key">
        <kbd>K</kbd>
        
        <span class="sound">TOM</span>
        </div>

        <div data-key="76" class="key">
        <kbd>L</kbd>
        <span class="sound">TINK</span>
         </div>  

        </div>
<!-- Data attributes data key here is used to hook up the audio we want to the corresponding letters -->
    </div>
<audio data-key="65" src="sounds/tr808-clap-241405.mp3"></audio>
<audio data-key="83"  src="sounds/hithat.mp3"></audio> 
<audio data-key="68" src="sounds/kick.mp3"></audio>
<audio data-key="70" src="sounds/open-hat-snake.mp3"></audio>
<audio data-key="71" src="sounds/boom.mp3"></audio>
<audio data-key="72" src="sounds/ride.mp3"></audio>
<audio data-key="74" src="sounds/snare.mp3"></audio>
<audio data-key="75" src="sounds/tom.mp3"></audio>
<audio data-key="76" src="sounds/tink1.mp3"></audio>


<script>
    window.addEventListener('keydown', function(e)
    {
 //console.log(e.keyCode)
 // const audio= document.querySelector('audio[data-key=65]') //its called attribute key
  const audio= document.querySelector( `audio[data-key="${e.keyCode}"]`); //This finds the audio tag where data-key="65" (for A key), etc.
  const key=document.querySelector(`.key[data-key="${e.keyCode}"]`)
  console.log(audio);

  if(!audio) return ;
 
  audio.play();
  key.classList.add('playing'); 
    });



//you never declared the key in js, so it wasnt working, so this keeps the key glowing continously
//so for that we make a function for removing transition, for each keys, so first we define 
function removeTransition(e){
    if(e.propertyName !== 'transform') return;  //skip it if its not a transform

    console.log(this); //here this is the key we play
    this.classList.remove('playing');
}

const keys= document.querySelectorAll('.key') //selects all the kys, you used just queryselector it only selects one key, and the function doesnt work, isnce in html the div key has all the keys, you need to select all hence querySelctorAll
//and below we use forEach for the keys, after you declare above key, we declare with queryselctorAll, becuse we want for all keys
keys.forEach(key => key.addEventListener('transitionend', removeTransition));

//the working here basically you declare, keys (const part) select all the keys
//and for each keys we add a event listener transitioned, remove transition, in css part we have key, where we have transition over there at seconds, that gets triggered when key is pressed, and after its done after certain second the transitionend gets triggered

//// Select all key elements and listen for when their CSS transition ends.
// When the key is pressed, the 'playing' class adds transition styles.
// Once the animation (like scale or shadow) finishes, 'transitionend' fires,
// and removeTransition() is called to remove the 'playing' class, in that we have  this.classList.remove function


</script>

</body>
</html>
